---
title: "project 4"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    source_code: embed
    vertical_layout: fill
    theme:
      version: 5
      bootswatch: minty
runtime: shiny
---

```{r setup, include=FALSE}
library(flexdashboard)
library(ggplot2)
library(dplyr)
library(tidyverse)
library(DT)
library(shiny)
```

```{r global}
# load the data here 
# here is the detailed code for loading and saving the data: https://github.com/jhu-statprogramming-fall-2023/biostat777-project4-YGAO0114/blob/main/data_loading%26analysis.Rmd
df19_file_path <- "data/df19_1_nogeo.csv"
df19 <- read.csv(df19_file_path, header = TRUE)
df18_file_path <- "data/df18_1_nogeo.csv"
df18 <- read.csv(df18_file_path, header = TRUE)
df17_file_path <- "data/df17_1_nogeo.csv"
df17 <- read.csv(df17_file_path, header = TRUE)
df16_file_path <- "data/df16_1_nogeo.csv"
df16 <- read.csv(df16_file_path, header = TRUE)
combined_df <- rbind(df16, df17, df18, df19)
```



# About 

## column {data-orientation=rows}

### Data 
Part 1: Identify the data

  - The data is from [tidycensus](https://walker-data.com/tidycensus/articles/spatial-data.html).
  - For the following task, all the code can be found here: [part 1 code](https://github.com/jhu-statprogramming-fall-2023/biostat777-project4-YGAO0114/blob/main/data_loading%26analysis.Rmd)
  
    - Test if a directory named data exists locally. If it does not, write an R function that creates it programmatically.
    - Save the data only once.
    - Read in the data locally each time you knit/render.


### Purpose of this dashboard
This dashboard investigates the yearly change of median earning and enrollment in high education

# The Data {data-orientation=rows}
## Column 
```{r}
DT::renderDataTable({
  DT::datatable(combined_df,
                extensions = 'Buttons',  # Ensure to include this
                options = list(
                  autoWidth = TRUE,
                  pageLength = 25,
                  scroller = TRUE,
                  scrollY = '450px',
                  dom = 'Bfrtip',  # This line is necessary to display buttons
                  buttons = c('copy', 'csv', 'excel', 'pdf', 'print')
                ),
                caption = htmltools::tags$caption(
                  style = 'caption-side: top; text-align: Left;')
  )
})
```




# median earning {data-orientation=columns}

## Column {data-width=100}

### About This Page
This page shows the median earning from 2016 to 2019. You can check different years by clicking the tab.

### Code
See the [plotting code on GitHub](https://github.com/jhu-statprogramming-fall-2023/biostat777-project4-YGAO0114/blob/main/data_loading%26analysis.Rmd).

## Column {data-width=250} {.tabset}
### Median Earning Map 2019 
![](plots/median_earning_map_2019.png){width=1000px}

### 2018 
![](plots/median_earning_map_2018.png){width=1000px}

### 2017
![](plots/median_earning_map_2017.png){width=1000px}

### 2016
![](plots/median_earning_map_2016.png){width=1000px}

# Higher Education Enrollment {data-orientation=columns}

## Column {data-width=100}

### About This Page
This page shows the enrollment in higher education (equal or higher than undergraduate) from 2016 to 2019. You can check different years by clicking the tab.

### Code
See the [plotting code on GitHub](https://github.com/jhu-statprogramming-fall-2023/biostat777-project4-YGAO0114/blob/main/data_loading%26analysis.Rmd).

## Column {data-width=250} {.tabset}
### Enrollment in Higher Education 2019

![](plots/Undergra_grad_Enroll_map_2019.png){width=1000px}

### 2018
![](plots/Undergra_grad_Enroll_map_2018.png){width=1000px}

### 2017
![](plots/Undergra_grad_Enroll_map_2017.png){width=1000px}

### 2016

![](plots/Undergra_grad_Enroll_map_2016.png){width=1000px}

# Yearly Change

# Analysis {data-orientation=columns}

## column 1 {.sidebar}